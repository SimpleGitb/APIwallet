<!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
      <title>title</title>
      <link rel="stylesheet" type="text/css" href="../css/api.css"/>
      <style>
          body{

          }
          .row{
            width: 100%;
            height: .55rem;
            font-size: .12rem;
          }
          .row span:nth-child(2n+1){
            margin-left: .15rem;
          }
          .row span:nth-child(2n){
            margin-right: .15rem;
          }
          .row_t{
            display: flex;
            justify-content: space-between;
            margin-top: .2rem;
          }
          .row_t2{
            margin-top: .1rem;
          }
          .row_t span:nth-child(2n+1){
            font-size: .15rem;
          }
          .row_t span:nth-child(2n){
            font-size: .2rem;
            color: #FF5656;
          }
          .row_b{
            color: #BEBEBE;
            display: flex;
            justify-content: space-between;
            margin-top: .08rem;
          }
          .blank{
            height: 1px;
            background: #F9F9F9;
            margin-left: .15rem;
          }
          .color1{
            color: #FF5656 !important;
          }
          .color2{
            color: #50D26F !important;
          }
          .nodata{
            width: 100%;
            height: 4rem;
            text-align: center;
          }
          .nodata img{
            width: 0.6rem;
            height: .72rem;
            margin-top: 2rem;
          }
          .nomessage{
            font-size: .15rem;
            color: #BEBEBE;
          }
      </style>
  </head>
  <body>
    <div class="wrap" id="moneyRecord">

    </div>
  </body>
  <script type='text/template' id='moneyRecordTmpl'>
    {{if( it && it.length>0){ }}
      {{ for(let k in it) { }}
        {{ if(it[k].payType == '05'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>充值</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}
        {{ if(it[k].payType == '04'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>提现</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}
        {{ if(it[k].payType == '25'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>购买卷轴</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}
        {{ if(it[k].payType == '26'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>邀请三级返利</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}
        {{ if(it[k].payType == '27'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>服务中心分红</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}
        {{ if(it[k].payType == '02'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>平台内部转账</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}
        {{ if(it[k].payType == '24'){ }}
          <div class="row">
            <div class="row_t row_t2">
              <span>答题奖励</span>
              {{ if(it[k].inOrOut == '01'){ }}
                <span class="color1">+{{=toThousands(it[k].amount)}}</span>
              {{ }else{ }}
                <span class="color2">-{{=toThousands(it[k].amount)}}</span>
              {{ } }}
            </div>
            <div class="row_b">
              <span>{{= it[k].updateTime}}</span>
              <span>MYAI</span>
            </div>
          </div>
          <div class="blank"></div>
        {{ } }}

      {{ } }}
    {{ }else{ }}
    <div class="nodata">
      <img src="../image/no_data.png" alt="">
      <div class="nomessage">暂无记录</div>
    </div>
    {{ } }}
  </script>
  <script type="text/javascript" src="../script/api.js"></script>
  <script type="text/javascript" src="../script/common.js"></script>
  <script type="text/javascript" src="../script/doT.min.js"></script>
  <script type="text/javascript">
      apiready = function(){
        userInfo = $api.getStorage('userInfo');
        postRequest('getTransactionRecordList',{accessToken: userInfo.token,currency:'AIB'},function(ret) {
          if(ret.flag ==true && ret){
            console.log(JSON.stringify(ret.data))
            let moneyRecordTmpl = doT.template($api.byId('moneyRecordTmpl').innerHTML);
            $api.byId('moneyRecord').innerHTML = moneyRecordTmpl(ret.data.rows);
          }
        })
      };
  </script>
  </html>
